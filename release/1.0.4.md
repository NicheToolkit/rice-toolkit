# [rice-toolkit-core](https://github.com/NicheToolkit/rice-toolkit/tree/master/rice-toolkit-core)



1、[RestSort](https://github.com/NicheToolkit/rice-toolkit/blob/master/rice-toolkit-core/src/main/java/io/github/nichetoolkit/rice/RestSort.java)的`toString`方法默认拼接的 排序类型的`Key`值，在`SqlBuilder`进行`SQL`拼接时可以直接拼成排序`SQL`语句。

2、[logback-spring.xml](https://github.com/NicheToolkit/rice-toolkit/blob/master/rice-toolkit-test-web/src/main/resources/logback-spring.xml)默认日志配置文件调整，新增`LOGS_FILE`所有日志的到`./logs.log`文件的输出，方便同一个`Tomcat`服务器下部署多个`War`包时，查看单个服务的日志混乱的问题。

3、[IdFilter](https://github.com/NicheToolkit/rice-toolkit/blob/master/rice-toolkit-core/src/main/java/io/github/nichetoolkit/rice/filter/IdFilter.java)的`toOperateSql`方法修复。

4、[SqlBuilder](https://github.com/NicheToolkit/rice-toolkit/blob/master/rice-toolkit-core/src/main/java/io/github/nichetoolkit/rice/builder/SqlBuilder.java)的`value`方法新增`RestKey`类型判断，默认取`RestKey`的`getKey`为值，(数据库默认支持将字符串`'1'`转换为数字`1`的条件下，)。

5、[MEBuilderHelper](https://github.com/NicheToolkit/rice-toolkit/blob/master/rice-toolkit-starter/src/main/java/io/github/nichetoolkit/rice/helper/MEBuilderHelper.java)新增多种`build`方法，针对于一对多、多对多和多对一的数据组合关系构建抽离出的通用方法。举例说明：

>   班主任与学生一对多的构建关系
> ```java
> /**
>  * 学生类，一个学生一个班级只有一个班主任
>  */
>  public class Student {
> 	/* 班主任id */
>     private String classLeaderId;
> 	/* 班主任信息 */
> 	private ClassLeader classLeader;
> 	//TODO 其他属性信息
>  }
> 
> /**
>  * 班主任类，一个班主任管理一个班级的许多学生
>  */
>   public class ClassLeader {
> 	/* 学生信息 */
> 	private Student students;
>     //TODO 其他属性信息
>   }
> ```
> 对于一条班主任查询`SQL`查询到的数据集合`List<ClassLeader> classLeaders`和一条学生查询信息集合`List<Student> students`，需要将`students`学生信息构建到`classLeaders`班主任数据集合中。
> 
> 由于每个学生信息都包含一个班主任id值，因此可以通过对`students`学生进行分类，然后分别构建到对应的班主任数据中，对应方法为`buildMultiSourceId`。
> 
> `Source`代表源对象，即要构建的父对象（`ClassLeader`）。`Target`代表目标对象，即要构建的子对象（`Student`）。`Single`和`Multi`代表二者对应关系。`SourceId`或`TargetId`代表二者分类、关联通过父对象的`id`还是子对象的`id`。

6、[TimeFilter](https://github.com/NicheToolkit/rice-toolkit/blob/master/rice-toolkit-core/src/main/java/io/github/nichetoolkit/rice/filter/TimeFilter.java)`startTime`和`endTime`正反序列化默认指定为`yyyy-MM-dd HH:mm:ss`格式。

7、[SaveAdvice](https://github.com/NicheToolkit/rice-toolkit/blob/master/rice-toolkit-starter/src/main/java/io/github/nichetoolkit/rice/service/SaveAdvice.java)过程拦截接口新增。


# [rice-toolkit-utils](https://github.com/NicheToolkit/rice-toolkit/tree/master/rice-toolkit-utils)



# [rice-toolkit-starter](https://github.com/NicheToolkit/rice-toolkit/tree/master/rice-toolkit-starter)

